<header
  class="text-stone-600 dark:text-stone-400 bg-stone-100 dark:bg-stone-900 shadow-sm body-font w-full fixed z-10"
>
  <div
    class="xl:container mx-auto flex p-5 flex-row items-center justify-between"
  >
    <a
      class="flex title-font font-medium items-center text-stone-900 dark:text-stone-100 md:mb-0 cursor-pointer"
      href="#"
    >
      <span class="text-xl">MRCSBCLS</span>
    </a>
    <nav
      class="hidden sm:ml-auto sm:flex flex-wrap items-center text-base justify-center"
    >
      <a
        class="mr-5 hover:text-stone-900 dark:hover:text-stone-200 cursor-pointer text-lg"
        routerLink="home"
        routerLinkActive="text-stone-900 dark:text-stone-200"
        >Home</a
      >
      <a
        class="mr-5 hover:text-stone-900 dark:hover:text-stone-200 cursor-pointer text-lg"
        routerLink="projects"
        routerLinkActive="text-stone-900 dark:text-stone-200"
        >Projects</a
      >
    </nav>
    <div class="hidden sm:inline-flex">
      <ng-container *ngTemplateOutlet="themeToggle"></ng-container>
    </div>

    <button
      (click)="layoutService.toggleMenu()"
      class="px-2 transition-all block sm:hidden text-stone-600 dark:text-stone-200"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
        />
      </svg>
    </button>
  </div>
  <div
    class="w-full block sm:hidden transition-all duration-300 relative z-0"
    [ngClass]="{
      '-translate-y-0 opacity-100 ': layoutService.expandMenu,
      '-translate-y-full h-0 opacity-0 duration-100': !layoutService.expandMenu
    }"
  >
    <div
      class="flex flex-col px-4 py-2 justify-between h-[calc(100vh-4rem)] transition-opacity duration-700"
      [ngClass]="{
        'hidden opacity-0': !layoutService.expandMenu,
        'block opacity-100': layoutService.expandMenu
      }"
    >
      <div>
        <nav>
          <ul class="flex flex-col">
            <li
              class="flex py-2 border-b-[1px] border-b-stone-200 dark:border-stone-800 hover:bg-stone-200/50 dark:hover:bg-stone-800 text-center"
            >
              <a
                class="hover:text-stone-900 dark:hover:text-stone-200 cursor-pointer text-lg w-full px-2 hover:scale-105"
                routerLink="home"
                routerLinkActive="text-stone-900 dark:text-stone-200"
                (click)="layoutService.expandMenu = false"
                >Home</a
              >
            </li>
            <li
              class="flex py-2 border-b-[1px] border-b-stone-200 dark:border-stone-800 hover:bg-stone-200/50 dark:hover:bg-stone-800 text-center"
            >
              <a
                class="hover:text-stone-900 dark:hover:text-stone-200 cursor-pointer text-lg w-full px-2 hover:scale-105"
                routerLink="projects"
                routerLinkActive="text-stone-900 dark:text-stone-200"
                (click)="layoutService.expandMenu = false"
                >Projects</a
              >
            </li>
          </ul>
        </nav>
        <div class="w-full flex justify-center items-center p-4">
          <ng-container *ngTemplateOutlet="themeToggle"></ng-container>
        </div>
      </div>

      <div><app-footer></app-footer></div>
    </div>
  </div>
</header>

<ng-template #themeToggle>
  <button
    class="px-2 transition-colors w-3/5 sm:w-fit flex justify-center"
    [ngClass]=""
    (click)="toggleTheme(); layoutService.expandMenu = false"
  >
    <!-- {{ layoutService.theme | titlecase }} -->
    <span [ngClass]="{ hidden: layoutService.theme == THEME.DARK }">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-6 hover:fill-stone-500 hover:stroke-stone-500"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
        />
      </svg>
    </span>
    <span [ngClass]="{ hidden: layoutService.theme == THEME.LIGHT }" class="">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-6 stroke-stone-400 hover:stroke-yellow-600 hover:fill-yellow-500"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
        />
      </svg>
    </span>
  </button>
</ng-template>
